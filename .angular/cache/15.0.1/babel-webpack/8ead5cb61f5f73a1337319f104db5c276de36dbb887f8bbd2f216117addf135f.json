{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../web.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../nav-bar/nav-bar.component\";\nfunction ViewAllVideoComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 12)(2, \"span\", 13);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ViewAllVideoComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15)(2, \"video\", 16);\n    i0.ɵɵelement(3, \"source\", 17);\n    i0.ɵɵtext(4, \" Your browser does not support the video tag. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 18)(6, \"h5\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 20);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 20);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 20);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 20);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"a\", 21);\n    i0.ɵɵlistener(\"click\", function ViewAllVideoComponent_div_19_Template_a_click_16_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.goToSingleVid());\n    });\n    i0.ɵɵtext(17, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function ViewAllVideoComponent_div_19_Template_a_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const video_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.delSingleVid(video_r2.id));\n    });\n    i0.ɵɵtext(19, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const video_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"https://cloudvidblobstorage.blob.core.windows.net\", video_r2.filepath, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"User Title: \", video_r2.title, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" publisher: \", video_r2.publisher, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Producer : \", video_r2.producer, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"genre : \", video_r2.genre, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"age : \", video_r2.age, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/video/\", video_r2.id, \"\");\n  }\n}\nexport class ViewAllVideoComponent {\n  constructor(webService) {\n    this.webService = webService;\n    this.loading = false;\n    this.form_data = new FormData();\n    this.getImages = () => {\n      this.loading = !this.loading;\n      this.getRequest();\n    };\n    this.delSingleVid = id => {\n      this.form_data.append('id', id);\n      this.webService.deleteVideos(this.form_data).subscribe(response => {\n        console.log('done');\n      });\n    };\n    this.getRequest = () => {\n      this.webService.getVideos().subscribe(response => {\n        this.data = response;\n        this.loading = !this.loading;\n        console.log(this.data);\n      });\n    };\n  }\n  // ask to see ig this is possible\n  goToSingleVid() {\n    // this.stateService.data = {data};\n    this.webService.navigate(['/video/{{video.id}}']);\n  }\n  ngOnInit() {}\n  static #_ = this.ɵfac = function ViewAllVideoComponent_Factory(t) {\n    return new (t || ViewAllVideoComponent)(i0.ɵɵdirectiveInject(i1.WebService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewAllVideoComponent,\n    selectors: [[\"app-view-all-video\"]],\n    decls: 22,\n    vars: 2,\n    consts: [[1, \"container\"], [1, \"row\", \"align-items-start\"], [1, \"col-2\"], [1, \"col-8\", 2, \"text-align\", \"center\"], [1, \"col-8\", 2, \"text-align\", \"left\"], [2, \"padding\", \"5px\"], [\"id\", \"retImages\", \"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngIf\"], [\"id\", \"ImageList\"], [1, \"container\", \"text-center\"], [1, \"row\"], [\"class\", \"col articla-col\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"status\", \"ng-show\", \"loading\", 1, \"spinner-border\", \"text-secondary\"], [1, \"visually-hidden\"], [1, \"col\", \"articla-col\"], [1, \"card\", 2, \"width\", \"18rem\"], [\"controls\", \"\"], [\"type\", \"video/mp4\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\", \"card-Description\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\", \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function ViewAllVideoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"div\", 0);\n        i0.ɵɵelement(2, \"app-nav-bar\");\n        i0.ɵɵelementStart(3, \"div\", 1);\n        i0.ɵɵelement(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"h3\");\n        i0.ɵɵtext(7, \"Image Share\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(8, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 1);\n        i0.ɵɵelement(10, \"div\", 2);\n        i0.ɵɵelementStart(11, \"div\", 4)(12, \"div\", 5)(13, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function ViewAllVideoComponent_Template_button_click_13_listener() {\n          return ctx.getImages();\n        });\n        i0.ɵɵtext(14, \"View Images\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(15, ViewAllVideoComponent_div_15_Template, 4, 0, \"div\", 7);\n        i0.ɵɵelementStart(16, \"div\", 8)(17, \"div\", 9)(18, \"div\", 10);\n        i0.ɵɵtemplate(19, ViewAllVideoComponent_div_19_Template, 20, 7, \"div\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"h4\");\n        i0.ɵɵtext(21, \"Please click the view Images button if you wish to view images on the system.\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.data);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.NavBarComponent],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;;;;IAyBcA,2BAAqB;IAEeA,0BAAU;IAAAA,iBAAO;;;;;;IAO3CA,+BAAwD;IAG9CA,6BAAoG;IACtGA,8DACA;IAAAA,iBAAQ;IAERA,+BAAuB;IACIA,YAA6B;IAAAA,iBAAK;IACzDA,6BAAsC;IAACA,YAAgC;IAAAA,iBAAI;IAC3EA,8BAAsC;IAAAA,aAA+B;IAAAA,iBAAI;IACzEA,8BAAsC;IAAAA,aAAyB;IAAAA,iBAAI;IACnEA,8BAAsC;IAAAA,aAAqB;IAAAA,iBAAI;IAC/DA,8BAAuF;IAAlDA;MAAAA;MAAA;MAAA,OAASA,qCAAe;IAAA,EAAC;IAAyBA,qBAAI;IAAAA,iBAAI;IAC/FA,8BAA6D;IAA1DA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAsB;IAAA,EAAC;IAA0BA,uBAAM;IAAAA,iBAAI;;;;IAXjEA,eAAyE;IAAzEA,8HAAyE;IAKxDA,eAA6B;IAA7BA,yDAA6B;IACbA,eAAgC;IAAhCA,6DAAgC;IACjCA,eAA+B;IAA/BA,2DAA+B;IAC/BA,eAAyB;IAAzBA,qDAAyB;IACzBA,eAAqB;IAArBA,iDAAqB;IACxDA,eAAgC;IAAhCA,mEAAgC;;;ACvCvE,OAAM,MAAOC,qBAAqB;EAUhCC,YAAoBC,UAAsB;IAAtB,eAAU,GAAVA,UAAU;IAR9B,YAAO,GAAY,KAAK;IACxB,cAAS,GAAQ,IAAIC,QAAQ,EAAE;IAE/B,cAAS,GAAG,MAAK;MACf,IAAI,CAACC,OAAO,GAAG,CAAC,IAAI,CAACA,OAAO;MAC5B,IAAI,CAACC,UAAU,EAAE;IACnB,CAAC;IAKD,iBAAY,GAAGC,EAAO,IAAI;MACxB,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC,IAAI,EAAEF,EAAE,CAAC;MAC/B,IAAI,CAACJ,UAAU,CAACO,YAAY,CAAC,IAAI,CAACF,SAAS,CAAC,CAACG,SAAS,CAAEC,QAAa,IAAI;QACvEC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnB,CAAC,CAAC;IACN,CAAC;IAQD,eAAU,GAAG,MAAK;MAChB,IAAI,CAACX,UAAU,CAACY,SAAS,EAAE,CAACJ,SAAS,CAAEC,QAAa,IAAI;QACtD,IAAI,CAACI,IAAI,GAAGJ,QAAQ;QACpB,IAAI,CAACP,OAAO,GAAG,CAAC,IAAI,CAACA,OAAO;QAC5BQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACE,IAAI,CAAC;MACtB,CAAC,CAAC;IACJ,CAAC;EAtB2C;EAU9C;EACAC,aAAa;IACX;IACM,IAAI,CAACd,UAAW,CAACe,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC;EAC5D;EAUEC,QAAQ,IACR;EAAC;qBAnCUlB,qBAAqB;EAAA;EAAA;UAArBA,qBAAqB;IAAAmB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QDRlCxB,2BAAK;QAGCA,8BAEc;QAGZA,8BAAmC;QAC/BA,yBAA2B;QAE3BA,8BAA+C;QACzCA,2BAAW;QAAAA,iBAAK;QAGtBA,yBAA2B;QAC/BA,iBAAM;QAENA,8BAAmC;QAC/BA,0BAA2B;QAE3BA,+BAA8C;QAEsBA;UAAA,OAASyB,eAAW;QAAA,EAAC;QAAEzB,4BAAW;QAAAA,iBAAS;QAE7GA,wEAIM;QAENA,+BAAqB;QAGXA,0EAiBM;QACVA,iBAAM;QAGVA,2BAAI;QAAAA,8FAA6E;QAAAA,iBAAK;;;QA9BlFA,gBAAa;QAAbA,kCAAa;QASsCA,eAAO;QAAPA,kCAAO","names":["i0","ViewAllVideoComponent","constructor","webService","FormData","loading","getRequest","id","form_data","append","deleteVideos","subscribe","response","console","log","getVideos","data","goToSingleVid","navigate","ngOnInit","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/brendanmullan/Library/CloudStorage/OneDrive-UlsterUniversity/Final Year/COM682 - Cloud Native Development/Project/cloudVid/CloudVid/src/app/view-all-video/view-all-video.component.html","/Users/brendanmullan/Library/CloudStorage/OneDrive-UlsterUniversity/Final Year/COM682 - Cloud Native Development/Project/cloudVid/CloudVid/src/app/view-all-video/view-all-video.component.ts"],"sourcesContent":["<div>\n    <div  class=\"container\">\n\n      <app-nav-bar>\n        \n      </app-nav-bar>\n\n        <!--Header-->\n        <div class=\"row align-items-start\">\n            <div class=\"col-2\"  ></div>\n\n            <div class=\"col-8\" style=\"text-align: center;\">\n              <h3>Image Share</h3>\n            </div>\n\n            <div class=\"col-2\"  ></div>\n        </div>\n        <!-- view Asset Area-->\n        <div class=\"row align-items-start\">\n            <div class=\"col-2\"  ></div>\n\n            <div class=\"col-8\" style=\"text-align: left;\" >\n              <div style=\"padding:5px;\">\n                <button  id = \"retImages\" type=\"button\" class=\"btn btn-primary\" (click)=\"getImages()\" >View Images</button>\n              </div>\n              <div *ngIf=\"loading\">\n                <div class=\"spinner-border text-secondary\" role=\"status\" ng-show=\"loading\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                  </div>\n              </div>\n        \n              <div id=\"ImageList\" >\n                <div class=\"container text-center\">\n                    <div class=\"row\">\n                        <div class=\"col articla-col\" *ngFor=\"let video of data\">\n                            <div class=\"card\" style=\"width: 18rem;\">\n                                <video controls>\n                                  <source src=\"https://cloudvidblobstorage.blob.core.windows.net{{video.filepath}}\"  type=\"video/mp4\">\n                                Your browser does not support the video tag.\n                                </video>\n                          \n                                <div class=\"card-body\">\n                                    <h5 class=\"card-title\">User Title: {{ video.title }}</h5>\n                                    <p class=\"card-text card-Description\"> publisher: {{ video.publisher }}</p>\n                                    <p class=\"card-text card-Description\">Producer : {{ video.producer }}</p>\n                                    <p class=\"card-text card-Description\">genre : {{ video.genre }}</p>\n                                    <p class=\"card-text card-Description\">age : {{ video.age }}</p>\n                                    <a routerLink=\"/video/{{video.id}}\"  (click)=\"goToSingleVid()\" class=\"btn btn-primary\">View</a>\n                                    <a (click)=\"delSingleVid(video.id)\" class=\"btn btn-danger\"  >delete</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <h4>Please click the view Images button if you wish to view images on the system.</h4>\n\n              </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { WebService } from '../web.service';\n\n@Component({\n  selector: 'app-view-all-video',\n  templateUrl: './view-all-video.component.html',\n  styleUrls: ['./view-all-video.component.scss']\n})\nexport class ViewAllVideoComponent {\n  data: any ;\n  loading: boolean = false;\n  form_data: any = new FormData();\n\n  getImages = () => {\n    this.loading = !this.loading\n    this.getRequest()\n  }\n\n  constructor(private webService: WebService,) {}\n\n\n  delSingleVid= (id: any) => {\n    this.form_data.append('id', id); \n    this.webService.deleteVideos(this.form_data).subscribe((response: any) => {\n      console.log('done')\n      }); \n  }\n\n  // ask to see ig this is possible\n  goToSingleVid(): void {\n    // this.stateService.data = {data};\n    (<any>this.webService).navigate(['/video/{{video.id}}']);\n}\n\n  getRequest = () => {\n    this.webService.getVideos().subscribe((response: any) => {\n      this.data = response\n      this.loading = !this.loading\n      console.log(this.data)\n      });\n    }\n\n  ngOnInit() { \n  }    \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}